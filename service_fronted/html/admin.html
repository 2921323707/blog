<!DOCTYPE html>
<html lang="zh-CN" data-theme="light" data-page="admin">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover">
    <meta name="robots" content="noindex, nofollow">
    <title>åšå®¢æ–‡ç« ç¼–è¾‘å™¨ - å˜Ÿå˜Ÿå¯çš„ä¸ªäººåšå®¢</title>
    <meta name="author" content="å˜Ÿå˜Ÿå¯">
    <meta name="copyright" content="å˜Ÿå˜Ÿå¯">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#ffffff">

    <!-- ä»åšå®¢ç«™ç‚¹å¼•ç”¨ CSS -->
    <link rel="stylesheet" href="http://localhost:4000/css/index.css?v=5.5.4-b1">
    <!-- ä½¿ç”¨ CDN ç‰ˆæœ¬çš„ FontAwesome ä»¥é¿å…è·¨åŸŸå­—ä½“æ–‡ä»¶é—®é¢˜ -->
    <!-- FontAwesome 6 ä¸ 7 ç±»åå…¼å®¹ï¼Œä½¿ç”¨ 6 ç‰ˆæœ¬ä»¥ç¡®ä¿ç¨³å®šæ€§ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer">
    <!-- æ³¨é‡Šæ‰ custom-fonts.css ä»¥é¿å… CORS è·¨åŸŸé—®é¢˜ï¼ˆè‡ªå®šä¹‰å­—ä½“éå¿…éœ€ï¼‰ -->
    <!-- <link rel="stylesheet" href="http://localhost:4000/css/custom-fonts.css"> -->
    <link rel="stylesheet" href="/static/css/admin.css">

    <!-- åšå®¢ä¸»é¢˜çš„å…¨å±€é…ç½®è„šæœ¬ -->
    <script>
        (() => {
            const saveToLocal = {
                set: (key, value, ttl) => {
                    if (!ttl) return
                    const expiry = Date.now() + ttl * 86400000
                    localStorage.setItem(key, JSON.stringify({ value, expiry }))
                },
                get: key => {
                    const itemStr = localStorage.getItem(key)
                    if (!itemStr) return undefined
                    const { value, expiry } = JSON.parse(itemStr)
                    if (Date.now() > expiry) {
                        localStorage.removeItem(key)
                        return undefined
                    }
                    return value
                }
            }

            window.btf = {
                saveToLocal,
                getScript: (url, attr = {}) => new Promise((resolve, reject) => {
                    const script = document.createElement('script')
                    script.src = url
                    script.async = true
                    Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
                    script.onload = script.onreadystatechange = () => {
                        if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
                    }
                    script.onerror = reject
                    document.head.appendChild(script)
                }),
                getCSS: (url, id) => new Promise((resolve, reject) => {
                    const link = document.createElement('link')
                    link.rel = 'stylesheet'
                    link.href = url
                    if (id) link.id = id
                    link.onload = link.onreadystatechange = () => {
                        if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
                    }
                    link.onerror = reject
                    document.head.appendChild(link)
                }),
                addGlobalFn: (key, fn, name = false, parent = window) => {
                    if (!false && key.startsWith('pjax')) return
                    const globalFn = parent.globalFn || {}
                    globalFn[key] = globalFn[key] || {}
                    globalFn[key][name || Object.keys(globalFn[key]).length] = fn
                    parent.globalFn = globalFn
                }
            }

            const activateDarkMode = () => {
                document.documentElement.setAttribute('data-theme', 'dark')
                if (document.querySelector('meta[name="theme-color"]') !== null) {
                    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
                }
            }
            const activateLightMode = () => {
                document.documentElement.setAttribute('data-theme', 'light')
                if (document.querySelector('meta[name="theme-color"]') !== null) {
                    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
                }
            }

            btf.activateDarkMode = activateDarkMode
            btf.activateLightMode = activateLightMode

            const theme = saveToLocal.get('theme')
            theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null

            const asideStatus = saveToLocal.get('aside-status')
            if (asideStatus !== undefined) {
                document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
            }

            const detectApple = () => {
                if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
                    document.documentElement.classList.add('apple')
                }
            }
            detectApple()
        })()
    </script>

    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js"></script>

    <script>
        const GLOBAL_CONFIG = {
            root: '/',
            algolia: undefined,
            localSearch: undefined,
            translate: undefined,
            highlight: undefined,
            copy: {
                success: 'å¤åˆ¶æˆåŠŸ',
                error: 'å¤åˆ¶å¤±è´¥',
                noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
            },
            relativeDate: {
                homepage: false,
                post: false
            },
            runtime: '',
            dateSuffix: {
                just: 'åˆšåˆš',
                min: 'åˆ†é’Ÿå‰',
                hour: 'å°æ—¶å‰',
                day: 'å¤©å‰',
                month: 'ä¸ªæœˆå‰'
            },
            copyright: undefined,
            lightbox: undefined,
            Snackbar: undefined,
            infinitegrid: undefined,
            isPhotoFigcaption: false,
            islazyloadPlugin: false,
            isAnchor: false,
            percent: {
                toc: true,
                rightside: false,
            },
            autoDarkmode: false
        }
    </script>

    <script id="config-diff">
        var GLOBAL_CONFIG_SITE = {
            title: 'å˜Ÿå˜Ÿå¯çš„ä¸ªäººåšå®¢',
            isHighlightShrink: false,
            isToc: false,
            pageType: 'admin'
        }
    </script>

    <script>
        // åœ¨é¡µé¢åŠ è½½å‰é˜»æ­¢ä¸»é¢˜è„šæœ¬å¹¶è®¾ç½®é”™è¯¯å¤„ç†
        window.GLOBAL_CONFIG = window.GLOBAL_CONFIG || {};
        window.GLOBAL_CONFIG_SITE = window.GLOBAL_CONFIG_SITE || {};
        window.GLOBAL_CONFIG_SITE.pageType = 'admin';

        // æå‰è®¾ç½®å…¨å±€é”™è¯¯å¤„ç†ï¼Œæ•è·ä¸»é¢˜è„šæœ¬é”™è¯¯
        window.addEventListener('error', function (e) {
            // å¦‚æœæ˜¯ page-events.js æˆ–å…¶ä»–ä¸»é¢˜è„šæœ¬çš„é”™è¯¯ï¼Œå¿½ç•¥å®ƒ
            if (e.filename && (e.filename.includes('page-events') ||
                e.filename.includes('main.js') ||
                e.filename.includes('utils.js') ||
                e.filename.includes('butterfly'))) {
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
                return true;
            }
            // å¦‚æœé”™è¯¯ä¿¡æ¯åŒ…å« length ç›¸å…³çš„ä¸»é¢˜è„šæœ¬é”™è¯¯ï¼Œä¹Ÿå¿½ç•¥
            if (e.message && (
                e.message.includes('Cannot read properties of undefined') ||
                (e.message.includes('length') && e.filename && e.filename.includes('.js'))
            )) {
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
                return true;
            }
        }, true);

        // æ•è·æœªå¤„ç†çš„ Promise é”™è¯¯
        window.addEventListener('unhandledrejection', function (e) {
            const reason = e.reason ? e.reason.toString() : '';
            if (reason.includes('page-events') ||
                reason.includes('Cannot read properties') ||
                (reason.includes('length') && reason.includes('undefined'))) {
                e.preventDefault();
            }
        });
    </script>
</head>

<body>
    <!-- ä¾§è¾¹æ  -->
    <div id="sidebar">
        <div id="menu-mask"></div>
        <div id="sidebar-menus">
            <div class="avatar-img text-center">
                <img src="http://localhost:4000/img/avator.jpg"
                    onerror="this.onerror=null;this.src='http://localhost:4000/img/friend_404.gif'" alt="avatar">
            </div>
            <div class="site-data text-center">
                <a href="http://localhost:4000/archives/">
                    <div class="headline">æ–‡ç« </div>
                    <div class="length-num">6</div>
                </a>
                <a href="http://localhost:4000/tags/">
                    <div class="headline">æ ‡ç­¾</div>
                    <div class="length-num">12</div>
                </a>
                <a href="http://localhost:4000/categories/">
                    <div class="headline">åˆ†ç±»</div>
                    <div class="length-num">1</div>
                </a>
            </div>
            <div class="menus_items">
                <div class="menus_item">
                    <a class="site-page" href="http://localhost:4000/">
                        <i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span>
                    </a>
                </div>
                <div class="menus_item">
                    <a class="site-page" href="http://localhost:4000/archives/">
                        <i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span>
                    </a>
                </div>
                <div class="menus_item">
                    <a class="site-page" href="http://localhost:4000/categories/">
                        <i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span>
                    </a>
                </div>
                <div class="menus_item">
                    <a class="site-page" href="http://localhost:4000/tags/">
                        <i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span>
                    </a>
                </div>
                <div class="menus_item">
                    <a class="site-page" href="http://localhost:4000/ai/">
                        <i class="fa-fw fas fa-robot"></i><span> å˜Ÿå˜Ÿå¯</span>
                    </a>
                </div>
                <div class="menus_item">
                    <a class="site-page" href="/admin.html">
                        <i class="fa-fw fas fa-edit"></i><span> ç¼–è¾‘å™¨</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- ä¸»ä½“å®¹å™¨ -->
    <div class="page" id="body-wrap">
        <!-- å¤´éƒ¨ -->
        <header class="not-home-page" id="page-header" style="background-image: url(http://localhost:4000/img/bc.jpg);">
            <nav id="nav">
                <span id="blog-info">
                    <a class="nav-site-title" href="http://localhost:4000/">
                        <span class="site-name">å˜Ÿå˜Ÿå¯çš„ä¸ªäººåšå®¢</span>
                    </a>
                </span>
                <div id="menus">
                    <div id="search-button">
                        <span class="site-page social-icon search">
                            <i class="fas fa-search fa-fw"></i><span> æœç´¢</span>
                        </span>
                    </div>
                    <div class="menus_items">
                        <div class="menus_item">
                            <a class="site-page" href="http://localhost:4000/">
                                <i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span>
                            </a>
                        </div>
                        <div class="menus_item">
                            <a class="site-page" href="http://localhost:4000/archives/">
                                <i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span>
                            </a>
                        </div>
                        <div class="menus_item">
                            <a class="site-page" href="http://localhost:4000/categories/">
                                <i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span>
                            </a>
                        </div>
                        <div class="menus_item">
                            <a class="site-page" href="http://localhost:4000/tags/">
                                <i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span>
                            </a>
                        </div>
                        <div class="menus_item">
                            <a class="site-page" href="http://localhost:4000/ai/">
                                <i class="fa-fw fas fa-robot"></i><span> å˜Ÿå˜Ÿå¯</span>
                            </a>
                        </div>
                        <div class="menus_item">
                            <a class="site-page" href="/admin.html">
                                <i class="fa-fw fas fa-edit"></i><span> ç¼–è¾‘å™¨</span>
                            </a>
                        </div>
                    </div>
                    <div id="toggle-menu">
                        <span class="site-page"><i class="fas fa-bars fa-fw"></i></span>
                    </div>
                </div>
            </nav>
            <div id="page-site-info">
                <h1 id="site-title">åšå®¢æ–‡ç« ç¼–è¾‘å™¨</h1>
            </div>
        </header>

        <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
        <main class="layout" id="content-inner">
            <div id="page" class="nc">
                <div class="admin-container">
                    <form id="postForm">
                        <div class="form-group">
                            <label for="title">æ–‡ç« æ ‡é¢˜ *</label>
                            <input type="text" id="title" name="title" required placeholder="è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜">
                        </div>

                        <div class="form-group">
                            <label for="date">å‘å¸ƒæ—¥æœŸ</label>
                            <input type="date" id="date" name="date">
                            <div class="help-text">ç•™ç©ºåˆ™ä½¿ç”¨å½“å‰æ—¥æœŸ</div>
                        </div>

                        <div class="form-group">
                            <label>æ ‡ç­¾</label>
                            <div class="tags-input">
                                <input type="text" class="tag-input" id="tagInput" placeholder="è¾“å…¥æ ‡ç­¾åæŒ‰å›è½¦æ·»åŠ ">
                            </div>
                            <div id="tagsContainer" class="tags-input"></div>
                        </div>

                        <div class="form-group">
                            <label>åˆ†ç±»</label>
                            <div class="categories-input">
                                <input type="text" class="category-input" id="categoryInput" placeholder="è¾“å…¥åˆ†ç±»åæŒ‰å›è½¦æ·»åŠ ">
                            </div>
                            <div id="categoriesContainer" class="tags-input"></div>
                        </div>

                        <div class="form-group">
                            <label>å°é¢å›¾ç‰‡</label>
                            <div class="cover-upload-area" id="coverUploadArea">
                                <p>ğŸ–¼ï¸ ç‚¹å‡»æˆ–æ‹–æ‹½å°é¢å›¾ç‰‡åˆ°è¿™é‡Œä¸Šä¼ </p>
                                <input type="file" id="coverFileInput" accept="image/*" style="display: none;">
                            </div>
                            <div class="cover-preview" id="coverPreview"></div>
                            <div class="help-text">ä¸Šä¼ å°é¢å›¾ç‰‡åï¼Œæ–‡ç« åˆ—è¡¨å’Œè¯¦æƒ…é¡µå°†æ˜¾ç¤ºæ­¤å°é¢ï¼ˆå¯é€‰ï¼‰</div>
                        </div>

                        <div class="form-group">
                            <label>å›¾ç‰‡ä¸Šä¼ </label>
                            <div class="upload-area" id="uploadArea">
                                <p>ğŸ“· ç‚¹å‡»æˆ–æ‹–æ‹½å›¾ç‰‡åˆ°è¿™é‡Œä¸Šä¼ </p>
                                <input type="file" id="fileInput" multiple accept="image/*" style="display: none;">
                            </div>
                            <div class="image-preview" id="imagePreview"></div>
                            <div class="help-text">ä¸Šä¼ çš„å›¾ç‰‡ä¼šè‡ªåŠ¨æ’å…¥åˆ°æ–‡ç« æœ«å°¾ï¼Œæ‚¨å¯ä»¥åœ¨ç¼–è¾‘å™¨ä¸­ç§»åŠ¨ä½ç½®</div>
                        </div>

                        <div class="form-group">
                            <label for="content">æ–‡ç« å†…å®¹ (Markdown) *</label>
                            <textarea id="content" name="content" required
                                placeholder="ä½¿ç”¨ Markdown æ ¼å¼ç¼–å†™æ–‡ç« å†…å®¹..."></textarea>
                            <div class="help-text">
                                æ”¯æŒ Markdown è¯­æ³•ã€‚å›¾ç‰‡å¼•ç”¨æ ¼å¼: ![æè¿°](/img/å›¾ç‰‡å.jpg)<br>
                                å¤–éƒ¨é“¾æ¥æ ¼å¼: [é“¾æ¥æ–‡æœ¬](https://example.com) - ç‚¹å‡»é¢„è§ˆæŒ‰é’®å¯æŸ¥çœ‹æ¸²æŸ“æ•ˆæœ
                            </div>
                        </div>

                        <div class="actions">
                            <button type="submit" class="btn" id="submitBtn">æäº¤æ–‡ç« </button>
                            <button type="button" class="btn btn-secondary" id="previewBtn">é¢„è§ˆ</button>
                        </div>

                        <div class="status" id="status"></div>
                    </form>
                </div>
            </div>
        </main>

        <!-- é¡µè„š -->
        <footer id="footer">
            <div class="footer-other">
                <div class="footer-copyright">
                    <span class="copyright">&copy;&nbsp;2025 - 2026 By å˜Ÿå˜Ÿå¯</span>
                    <span class="framework-info">
                        <span>æ¡†æ¶ </span>
                        <a target="_blank" rel="noopener" href="https://hexo.io">Hexo 5.4.2</a>
                        <span class="footer-separator">|</span>
                        <span>ä¸»é¢˜ </span>
                        <a target="_blank" rel="noopener"
                            href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.4-b1</a>
                    </span>
                </div>
                <div class="footer_custom_text">
                    <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener">é„‚ICPå¤‡2024081553å·</a>
                </div>
            </div>
        </footer>
    </div>

    <!-- å³ä¾§å·¥å…· -->
    <div id="rightside">
        <div id="rightside-config-hide">
            <button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢">
                <i class="fas fa-adjust"></i>
            </button>
            <button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢">
                <i class="fas fa-arrows-alt-h"></i>
            </button>
        </div>
        <div id="rightside-config-show">
            <button id="rightside-config" type="button" title="è®¾ç½®">
                <i class="fas fa-cog fa-spin"></i>
            </button>
            <button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨">
                <span class="scroll-percent"></span>
                <i class="fas fa-arrow-up"></i>
            </button>
        </div>
    </div>

    <!-- é¢„è§ˆæ¨¡æ€æ¡† -->
    <div id="previewModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>æ–‡ç« é¢„è§ˆ</h2>
                <span class="modal-close" id="closePreview">&times;</span>
            </div>
            <div class="modal-body">
                <div id="previewContent" class="markdown-preview"></div>
            </div>
        </div>
    </div>

    <!-- ä»åšå®¢ç«™ç‚¹å¼•ç”¨ JS -->
    <script src="http://localhost:4000/js/utils.js?v=5.5.4-b1"></script>
    <script src="http://localhost:4000/js/main.js?v=5.5.4-b1"></script>
    <script src="/static/js/admin.js"></script>
</body>

</html>